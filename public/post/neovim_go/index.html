<!doctype html><html lang=en data-theme><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>Go development setup with Neovim - Uday</title><meta name=description content="Before I start writing this post, I have a confession to make. I never thought I would be writing a post about an editor and it’s configuration, yet here I am writing about one of the most renowned editors, neovim. There are numerous posts about neovim and its configuration out there, but there is always scope for one more blog post.
The goal of this post is to setup neovim for go development quickly; I won't go into detailing about each plugin and custom mappings."><link rel=icon type=image/x-icon href=https://udayblog.github.io/favicon.ico><link rel=apple-touch-icon-precomposed href=https://udayblog.github.io/favicon.png><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><link rel=stylesheet href=https://udayblog.github.io/css/style.min.aac3b3a2a3235d20a652d9ccde7ec59be09f74c45de387513f681d02f3912b95.css integrity="sha256-qsOzoqMjXSCmUtnM3n7Fm+CfdMRd44dRP2gdAvORK5U="><script src=https://udayblog.github.io/js/script.min.74bf1a3fcf1af396efa4acf3e660e876b61a2153ab9cbe1893ac24ea6d4f94ee.js type=text/javascript integrity="sha256-dL8aP88a85bvpKzz5mDodrYaIVOrnL4Yk6wk6m1PlO4="></script><meta property="og:title" content="Go development setup with Neovim"><meta property="og:description" content="Before I start writing this post, I have a confession to make. I never thought I would be writing a post about an editor and it’s configuration, yet here I am writing about one of the most renowned editors, neovim. There are numerous posts about neovim and its configuration out there, but there is always scope for one more blog post.
The goal of this post is to setup neovim for go development quickly; I won't go into detailing about each plugin and custom mappings."><meta property="og:type" content="article"><meta property="og:url" content="https://udayblog.github.io/post/neovim_go/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-09-12T00:00:00+00:00"><meta property="article:modified_time" content="2021-09-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Go development setup with Neovim"><meta name=twitter:description content="Before I start writing this post, I have a confession to make. I never thought I would be writing a post about an editor and it’s configuration, yet here I am writing about one of the most renowned editors, neovim. There are numerous posts about neovim and its configuration out there, but there is always scope for one more blog post.
The goal of this post is to setup neovim for go development quickly; I won't go into detailing about each plugin and custom mappings."></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><h1 class=site-title><a href=/>Uday</a></h1><ul class=social-icons></ul></div><nav><a href=https://udayblog.github.io/post/ title>Blog</a>
<a href=https://udayblog.github.io/ title>Home</a></nav></header><main id=main tabindex=-1><article class="post h-entry"><div class=post-header><header><h1 class="p-name post-title">Go development setup with Neovim</h1></header></div><div class="content e-content"><p>Before I start writing this post, I have a confession to make. I never thought I would be writing a post about
an editor and it’s configuration, yet here I am writing about one of the most renowned editors, <strong>neovim</strong>. There are numerous
posts about neovim and its configuration out there, but there is always scope for one more blog post.</p><p>The goal of this post is to setup neovim for go development quickly; I won't go into detailing about each plugin and custom mappings.</p><p>Though there is packer for managing packages in neovim, I stick with <strong>vim-plug</strong> for plugin management</p><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Steps</h2><div id=outline-text-headline-1 class=outline-text-2><ul><li><p>Create configuration files with the following commands:</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>touch ~/.config/nvim/init.vim
</span></span><span style=display:flex><span>touch ~/.config/nvim/mappings.vim
</span></span><span style=display:flex><span>touch ~/.config/nvim/plugins.vim
</span></span><span style=display:flex><span>touch ~/.config/nvim/nerdtree.vim
</span></span><span style=display:flex><span>mkdir -p lua/config
</span></span><span style=display:flex><span>touch ~/.config/nvim/lua/config/telescope.lua
</span></span><span style=display:flex><span>touch ~/.config/nvim/lua/config/golsp.lua</span></span></code></pre></div></div></li><li><p>Contents of ~/.config/nvim/init.vim</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  source ~/.config/nvim/plugins.vim
</span></span><span style=display:flex><span>  source ~/.config/nvim/mappings.vim
</span></span><span style=display:flex><span>  source ~/.config/nvim/nerdtree.vim
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  :lua require<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;config/telescope&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  :lua require<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;config/golsp&#39;</span><span style=color:#f92672>)</span></span></span></code></pre></div></div></li><li><p>Contents of ~/.config/nvim/plugins.vim</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  call plug#begin<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;~/.config/nvim/plugged&#39;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;scrooloose/nerdtree&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;junegunn/fzf&#39;</span>, <span style=color:#f92672>{</span> <span style=color:#e6db74>&#39;do&#39;</span>: <span style=color:#f92672>{</span> -&gt; fzf#install<span style=color:#f92672>()</span> <span style=color:#f92672>}</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;junegunn/fzf.vim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;vim-airline/vim-airline&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;vim-airline/vim-airline-themes&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;tpope/vim-fugitive&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;airblade/vim-gitgutter&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;chriskempson/base16-vim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;nvim-lua/popup.nvim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;nvim-lua/plenary.nvim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;nvim-telescope/telescope.nvim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;neovim/nvim-lspconfig&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;nvim-treesitter/nvim-treesitter&#39;</span>, <span style=color:#f92672>{</span><span style=color:#e6db74>&#39;do&#39;</span>: <span style=color:#e6db74>&#39;:TSUpdate&#39;</span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;simrat39/symbols-outline.nvim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;ray-x/lsp_signature.nvim&#39;</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;ms-jpq/coq_nvim&#39;</span>, <span style=color:#f92672>{</span><span style=color:#e6db74>&#39;branch&#39;</span>: <span style=color:#e6db74>&#39;coq&#39;</span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  Plug <span style=color:#e6db74>&#39;ms-jpq/coq.artifacts&#39;</span>, <span style=color:#f92672>{</span><span style=color:#e6db74>&#39;branch&#39;</span>: <span style=color:#e6db74>&#39;artifacts&#39;</span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  call plug#end<span style=color:#f92672>()</span></span></span></code></pre></div></div></li><li>Contents of ~/.config/nvim/mappings.vim</li></ul><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>let mapleader<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;\&lt;space&gt;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>set nu rnu
</span></span><span style=display:flex><span>set tabstop<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span> softtabstop<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> expandtab shiftwidth<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span> smarttab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>map &lt;C-s&gt; :w&lt;CR&gt;
</span></span><span style=display:flex><span>imap &lt;C-s&gt; &lt;Esc&gt;:w&lt;CR&gt;i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>let g:coq_settings <span style=color:#f92672>=</span> <span style=color:#f92672>{</span> <span style=color:#e6db74>&#39;auto_start&#39;</span>: v:true <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:lua vim.o.completeopt <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;menuone,noselect&#39;</span>
</span></span><span style=display:flex><span>autocmd BufWritePre *.go lua gofmt<span style=color:#f92672>(</span>1000<span style=color:#f92672>)</span></span></span></code></pre></div></div><ul><li>Contents of ~/.config/nvim/nerdtree.vim</li></ul><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span> nnoremap &lt;C-n&gt; :NERDTreeToggle&lt;CR&gt;
</span></span><span style=display:flex><span> let g:NERDTreeWinPos <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;right&#34;</span></span></span></code></pre></div></div><ul><li>Contents of ~/.config/nvim/lua/config/telescope.lua</li></ul><div class="src src-lua"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span>require<span style=color:#e6db74>&#39;telescope&#39;</span>.setup {
</span></span><span style=display:flex><span>preview_cutoff <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> opts <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- See `:help vim.lsp.*` for documentation on any of the below functions</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> keymap <span style=color:#f92672>=</span> vim.api.nvim_set_keymap
</span></span><span style=display:flex><span>keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;leader&gt;ff&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).find_files()&lt;cr&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;leader&gt;fg&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).live_grep()&lt;cr&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;leader&gt;fb&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).buffers()&lt;cr&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;leader&gt;fh&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).help_tags()&lt;cr&gt;&#39;</span>, opts)</span></span></code></pre></div></div><ul><li>Contents of ~/.config/nvim/lua/config/golsp.lua</li></ul><div class="src src-lua"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>local</span> nvim_lsp <span style=color:#f92672>=</span> require <span style=color:#e6db74>&#39;lspconfig&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> coq <span style=color:#f92672>=</span> require <span style=color:#e6db74>&#34;coq&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Use an on_attach function to only map the following keys</span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- after the language server attaches to the current buffer</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> on_attach <span style=color:#f92672>=</span>  <span style=color:#66d9ef>function</span>(client, bufnr)
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>buf_set_keymap</span>(...) vim.api.nvim_buf_set_keymap(bufnr, ...) <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>buf_set_option</span>(...) vim.api.nvim_buf_set_option(bufnr, ...) <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>--Enable completion triggered by &lt;c-x&gt;&lt;c-o&gt;</span>
</span></span><span style=display:flex><span>buf_set_option(<span style=color:#e6db74>&#39;omnifunc&#39;</span>, <span style=color:#e6db74>&#39;v:lua.vim.lsp.omnifunc&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Mappings.</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>local</span> opts <span style=color:#f92672>=</span> { noremap<span style=color:#f92672>=</span><span style=color:#66d9ef>true</span>, silent<span style=color:#f92672>=</span><span style=color:#66d9ef>false</span> }
</span></span><span style=display:flex><span><span style=color:#75715e>-- local opts = {}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- See `:help vim.lsp.*` for documentation on any of the below functions</span>
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;gD&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.declaration()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;gd&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.definition()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;K&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.hover()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;gi&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.implementation()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;C-k&gt;&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.signature_help()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;wa&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.add_workspace_folder()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;wr&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.remove_workspace_folder()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;wl&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua print(vim.inspect(vim.lsp.buf.list_workspace_folders()))&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;D&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.type_definition()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;rn&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.rename()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;ca&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.code_action()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;gr&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.references()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;e&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.show_line_diagnostics()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;[d&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.goto_prev()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;]d&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.goto_next()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;q&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.set_loclist()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>buf_set_keymap(<span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;&lt;space&gt;f&#39;</span>, <span style=color:#e6db74>&#39;&lt;cmd&gt;lua vim.lsp.buf.formatting()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>require <span style=color:#e6db74>&#39;lsp_signature&#39;</span>.on_attach({
</span></span><span style=display:flex><span>  bind <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  zindex <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>  doc_lines <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>}, bufnr)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Use a loop to conveniently call &#39;setup&#39; on multiple servers and</span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- map buffer local keybindings when the language server attaches</span>
</span></span><span style=display:flex><span>nvim_lsp.gopls.setup( 
</span></span><span style=display:flex><span>coq.lsp_ensure_capabilities({
</span></span><span style=display:flex><span>on_attach <span style=color:#f92672>=</span> on_attach,
</span></span><span style=display:flex><span>cmd <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;gopls&#34;</span>},
</span></span><span style=display:flex><span>settings <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  analyses <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    unusedparams <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  staticcheck <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  usePlaceholders <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  gofumpt <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>gofmt</span>(timeout_ms)
</span></span><span style=display:flex><span>goimports(timeout_ms)
</span></span><span style=display:flex><span>vim.lsp.buf.formatting_sync()
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>goimports</span>(timeout_ms)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> context <span style=color:#f92672>=</span> { only <span style=color:#f92672>=</span> { <span style=color:#e6db74>&#34;source.organizeImports&#34;</span> } }
</span></span><span style=display:flex><span>  vim.validate { context <span style=color:#f92672>=</span> { context, <span style=color:#e6db74>&#34;t&#34;</span>, <span style=color:#66d9ef>true</span> } }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> params <span style=color:#f92672>=</span> vim.lsp.util.make_range_params()
</span></span><span style=display:flex><span>  params.context <span style=color:#f92672>=</span> context
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- See the implementation of the textDocument/codeAction callback</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- (lua/vim/lsp/handler.lua) for how to do this properly.</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> result <span style=color:#f92672>=</span> vim.lsp.buf_request_sync(<span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#34;textDocument/codeAction&#34;</span>, params, timeout_ms)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> result <span style=color:#f92672>or</span> next(result) <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> <span style=color:#66d9ef>then</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> actions <span style=color:#f92672>=</span> result[<span style=color:#ae81ff>1</span>].result
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> actions <span style=color:#66d9ef>then</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>local</span> action <span style=color:#f92672>=</span> actions[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- textDocument/codeAction can return either Command[] or CodeAction[]. If it</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- is a CodeAction, it can have either an edit, a command or both. Edits</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- should be executed first.</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> action.edit <span style=color:#f92672>or</span> type(action.command) <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;table&#34;</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> action.edit <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>      vim.lsp.util.apply_workspace_edit(action.edit)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> type(action.command) <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;table&#34;</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>      vim.lsp.buf.execute_command(action.command)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    vim.lsp.buf.execute_command(action)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span></span></span></code></pre></div></div><p>Once you have all the files ready</p><ul><li>Open neovim</li><li>type :PlugInstall</li><li>type :COQdeps</li></ul><p>Now, you should be ready for go development in neovim.</p><p>Couple of shortcuts to get you started:</p><ul><li>&lt;Ctrl> + n : Opens file browser</li><li>&lt;Space> + ff : Search for a file</li></ul></div></div></div><div class=post-info><div class="post-date dt-published">2021-09-12</div><a class="post-hidden-url u-url" href=https://udayblog.github.io/post/neovim_go/>https://udayblog.github.io/post/neovim_go/</a>
<a href=https://udayblog.github.io/ class="p-name p-author post-hidden-author h-card" rel=me></a><div class=post-taxonomies></div></div></article></main><footer class=common-footer><div class=common-footer-bottom><div class=copyright><p>© 2022<br>Powered by <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>, theme <a target=_blank rel="noopener noreferrer" href=https://github.com/mitrichius/hugo-theme-anubis>Anubis</a>.<br></p></div><script>const STORAGE_KEY="user-color-scheme",defaultTheme="light-without-switcher";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeButtonText()};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme=="dark"&&document.documentElement.setAttribute("data-theme","dark"),currentTheme=="auto"&&(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)),switchButton&&(changeButtonText(),switchButton.addEventListener("click",switchTheme,!1)),showContent()});function detectCurrentScheme(){return localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"light"}function changeButtonText(){switchButton&&(switchButton.textContent=currentTheme=="dark"?"Light theme":"Dark theme")}function switchTheme(){currentTheme=="dark"?(localStorage.setItem(STORAGE_KEY,"light"),document.documentElement.setAttribute("data-theme","light"),currentTheme="light"):(localStorage.setItem(STORAGE_KEY,"dark"),document.documentElement.setAttribute("data-theme","dark"),currentTheme="dark"),changeButtonText()}function showContent(){document.body.style.visibility="visible",document.body.style.opacity=1}</script></div><p class="h-card vcard"><a href=https://udayblog.github.io/ class="p-name u-url url fn" rel=me></a></p></footer></div></body></html>
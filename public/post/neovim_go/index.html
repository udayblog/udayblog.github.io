<!DOCTYPE html>
<html><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Go development setup with Neovim - Thoughts &amp; Learnings</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Before I start writing this post, I have a confession to make. I never thought I would be writing a post about an editor and it’s configuration, yet here I am writing about one of the most renowned editors, neovim. There are numerous posts about neovim and its configuration out there, but there is always scope for one more blog post.
The goal of this post is to setup neovim for go development quickly; I won&#39;t go into detailing about each plugin and custom mappings." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Go development setup with Neovim" />
<meta property="og:description" content="Before I start writing this post, I have a confession to make. I never thought I would be writing a post about an editor and it’s configuration, yet here I am writing about one of the most renowned editors, neovim. There are numerous posts about neovim and its configuration out there, but there is always scope for one more blog post.
The goal of this post is to setup neovim for go development quickly; I won&#39;t go into detailing about each plugin and custom mappings." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/neovim_go/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-09-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go development setup with Neovim"/>
<meta name="twitter:description" content="Before I start writing this post, I have a confession to make. I never thought I would be writing a post about an editor and it’s configuration, yet here I am writing about one of the most renowned editors, neovim. There are numerous posts about neovim and its configuration out there, but there is always scope for one more blog post.
The goal of this post is to setup neovim for go development quickly; I won&#39;t go into detailing about each plugin and custom mappings."/>
<script src="http://localhost:1313/js/feather.min.js"></script>
	
	
        <link href="http://localhost:1313/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="http://localhost:1313/css/main.d1574b43a51792a446cd761d6f9b1c9abb39ed2c36ca6984f74aef729eb9f245.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="http://localhost:1313/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css"  disabled />
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://localhost:1313/">Thoughts &amp; Learnings</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
		| <a id="dark-mode-toggle" onclick="toggleTheme()" href=""></a>
		<script src="http://localhost:1313/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Go development setup with Neovim</h1>
			<div class="meta">Posted on Sep 12, 2021</div>
		</div>
		

		<section class="body">
			
<p>
Before I start writing this post, I have a confession to make. I never thought I would be writing a post about
an editor and it’s configuration, yet here I am writing about one of the most renowned editors, <strong>neovim</strong>. There are numerous
posts about neovim and its configuration out there, but there is always scope for one more blog post.</p>
<p>
The goal of this post is to setup neovim for go development quickly; I won&#39;t go into detailing about each plugin and custom mappings.</p>
<p>
Though there is packer for managing packages in neovim, I stick with <strong>vim-plug</strong> for plugin management</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Steps
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<ul>
<li>
<p>Create configuration files with the following commands:</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>touch ~/.config/nvim/init.vim
</span></span><span style="display:flex;"><span>touch ~/.config/nvim/mappings.vim
</span></span><span style="display:flex;"><span>touch ~/.config/nvim/plugins.vim
</span></span><span style="display:flex;"><span>touch ~/.config/nvim/nerdtree.vim
</span></span><span style="display:flex;"><span>mkdir -p lua/config
</span></span><span style="display:flex;"><span>touch ~/.config/nvim/lua/config/telescope.lua
</span></span><span style="display:flex;"><span>touch ~/.config/nvim/lua/config/golsp.lua</span></span></code></pre></div>
</div>
</li>
<li>
<p>Contents of ~/.config/nvim/init.vim</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>  source ~/.config/nvim/plugins.vim
</span></span><span style="display:flex;"><span>  source ~/.config/nvim/mappings.vim
</span></span><span style="display:flex;"><span>  source ~/.config/nvim/nerdtree.vim
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  :lua require<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;config/telescope&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  :lua require<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;config/golsp&#39;</span><span style="color:#f92672">)</span></span></span></code></pre></div>
</div>
</li>
<li>
<p>Contents of ~/.config/nvim/plugins.vim</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>  call plug#begin<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;~/.config/nvim/plugged&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;scrooloose/nerdtree&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;junegunn/fzf&#39;</span>, <span style="color:#f92672">{</span> <span style="color:#e6db74">&#39;do&#39;</span>: <span style="color:#f92672">{</span> -&gt; fzf#install<span style="color:#f92672">()</span> <span style="color:#f92672">}</span> <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;junegunn/fzf.vim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;vim-airline/vim-airline&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;vim-airline/vim-airline-themes&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;tpope/vim-fugitive&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;airblade/vim-gitgutter&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;chriskempson/base16-vim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;nvim-lua/popup.nvim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;nvim-lua/plenary.nvim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;nvim-telescope/telescope.nvim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;neovim/nvim-lspconfig&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;nvim-treesitter/nvim-treesitter&#39;</span>, <span style="color:#f92672">{</span><span style="color:#e6db74">&#39;do&#39;</span>: <span style="color:#e6db74">&#39;:TSUpdate&#39;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;simrat39/symbols-outline.nvim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;ray-x/lsp_signature.nvim&#39;</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;ms-jpq/coq_nvim&#39;</span>, <span style="color:#f92672">{</span><span style="color:#e6db74">&#39;branch&#39;</span>: <span style="color:#e6db74">&#39;coq&#39;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  Plug <span style="color:#e6db74">&#39;ms-jpq/coq.artifacts&#39;</span>, <span style="color:#f92672">{</span><span style="color:#e6db74">&#39;branch&#39;</span>: <span style="color:#e6db74">&#39;artifacts&#39;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  call plug#end<span style="color:#f92672">()</span></span></span></code></pre></div>
</div>
</li>
<li>Contents of ~/.config/nvim/mappings.vim</li>
</ul>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>let mapleader<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\&lt;space&gt;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set nu rnu
</span></span><span style="display:flex;"><span>set tabstop<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> softtabstop<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> expandtab shiftwidth<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> smarttab
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>map &lt;C-s&gt; :w&lt;CR&gt;
</span></span><span style="display:flex;"><span>imap &lt;C-s&gt; &lt;Esc&gt;:w&lt;CR&gt;i
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>let g:coq_settings <span style="color:#f92672">=</span> <span style="color:#f92672">{</span> <span style="color:#e6db74">&#39;auto_start&#39;</span>: v:true <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>:lua vim.o.completeopt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;menuone,noselect&#39;</span>
</span></span><span style="display:flex;"><span>autocmd BufWritePre *.go lua gofmt<span style="color:#f92672">(</span>1000<span style="color:#f92672">)</span></span></span></code></pre></div>
</div>
<ul>
<li>Contents of ~/.config/nvim/nerdtree.vim</li>
</ul>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span> nnoremap &lt;C-n&gt; :NERDTreeToggle&lt;CR&gt;
</span></span><span style="display:flex;"><span> let g:NERDTreeWinPos <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;right&#34;</span></span></span></code></pre></div>
</div>
<ul>
<li>Contents of ~/.config/nvim/lua/config/telescope.lua</li>
</ul>
<div class="src src-lua">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>require<span style="color:#e6db74">&#39;telescope&#39;</span>.setup {
</span></span><span style="display:flex;"><span>preview_cutoff <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> opts <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- See `:help vim.lsp.*` for documentation on any of the below functions</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> keymap <span style="color:#f92672">=</span> vim.api.nvim_set_keymap
</span></span><span style="display:flex;"><span>keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;ff&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).find_files()&lt;cr&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;fg&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).live_grep()&lt;cr&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;fb&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).buffers()&lt;cr&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;fh&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua require(&#34;telescope.builtin&#34;).help_tags()&lt;cr&gt;&#39;</span>, opts)</span></span></code></pre></div>
</div>
<ul>
<li>Contents of ~/.config/nvim/lua/config/golsp.lua</li>
</ul>
<div class="src src-lua">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> nvim_lsp <span style="color:#f92672">=</span> require <span style="color:#e6db74">&#39;lspconfig&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> coq <span style="color:#f92672">=</span> require <span style="color:#e6db74">&#34;coq&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Use an on_attach function to only map the following keys</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- after the language server attaches to the current buffer</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> on_attach <span style="color:#f92672">=</span>  <span style="color:#66d9ef">function</span>(client, bufnr)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">buf_set_keymap</span>(...) vim.api.nvim_buf_set_keymap(bufnr, ...) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">buf_set_option</span>(...) vim.api.nvim_buf_set_option(bufnr, ...) <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--Enable completion triggered by &lt;c-x&gt;&lt;c-o&gt;</span>
</span></span><span style="display:flex;"><span>buf_set_option(<span style="color:#e6db74">&#39;omnifunc&#39;</span>, <span style="color:#e6db74">&#39;v:lua.vim.lsp.omnifunc&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Mappings.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> opts <span style="color:#f92672">=</span> { noremap<span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>, silent<span style="color:#f92672">=</span><span style="color:#66d9ef">false</span> }
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- local opts = {}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- See `:help vim.lsp.*` for documentation on any of the below functions</span>
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;gD&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.declaration()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;gd&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.definition()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;K&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.hover()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;gi&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.implementation()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-k&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.signature_help()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;wa&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.add_workspace_folder()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;wr&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.remove_workspace_folder()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;wl&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua print(vim.inspect(vim.lsp.buf.list_workspace_folders()))&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;D&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.type_definition()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;rn&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.rename()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;ca&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.code_action()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;gr&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.references()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;e&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.show_line_diagnostics()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;[d&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.goto_prev()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;]d&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.goto_next()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;q&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.diagnostic.set_loclist()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>buf_set_keymap(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;space&gt;f&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;lua vim.lsp.buf.formatting()&lt;CR&gt;&#39;</span>, opts)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;lsp_signature&#39;</span>.on_attach({
</span></span><span style="display:flex;"><span>  bind <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  zindex <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>  doc_lines <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>}, bufnr)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Use a loop to conveniently call &#39;setup&#39; on multiple servers and</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- map buffer local keybindings when the language server attaches</span>
</span></span><span style="display:flex;"><span>nvim_lsp.gopls.setup( 
</span></span><span style="display:flex;"><span>coq.lsp_ensure_capabilities({
</span></span><span style="display:flex;"><span>on_attach <span style="color:#f92672">=</span> on_attach,
</span></span><span style="display:flex;"><span>cmd <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;gopls&#34;</span>},
</span></span><span style="display:flex;"><span>settings <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  analyses <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    unusedparams <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  staticcheck <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  usePlaceholders <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  gofumpt <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">gofmt</span>(timeout_ms)
</span></span><span style="display:flex;"><span>goimports(timeout_ms)
</span></span><span style="display:flex;"><span>vim.lsp.buf.formatting_sync()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">goimports</span>(timeout_ms)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> context <span style="color:#f92672">=</span> { only <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#34;source.organizeImports&#34;</span> } }
</span></span><span style="display:flex;"><span>  vim.validate { context <span style="color:#f92672">=</span> { context, <span style="color:#e6db74">&#34;t&#34;</span>, <span style="color:#66d9ef">true</span> } }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> params <span style="color:#f92672">=</span> vim.lsp.util.make_range_params()
</span></span><span style="display:flex;"><span>  params.context <span style="color:#f92672">=</span> context
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- See the implementation of the textDocument/codeAction callback</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- (lua/vim/lsp/handler.lua) for how to do this properly.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> result <span style="color:#f92672">=</span> vim.lsp.buf_request_sync(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;textDocument/codeAction&#34;</span>, params, timeout_ms)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> result <span style="color:#f92672">or</span> next(result) <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> actions <span style="color:#f92672">=</span> result[<span style="color:#ae81ff">1</span>].result
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> actions <span style="color:#66d9ef">then</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> action <span style="color:#f92672">=</span> actions[<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- textDocument/codeAction can return either Command[] or CodeAction[]. If it</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- is a CodeAction, it can have either an edit, a command or both. Edits</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- should be executed first.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> action.edit <span style="color:#f92672">or</span> type(action.command) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;table&#34;</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> action.edit <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>      vim.lsp.util.apply_workspace_edit(action.edit)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> type(action.command) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;table&#34;</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>      vim.lsp.buf.execute_command(action.command)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    vim.lsp.buf.execute_command(action)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span></span></span></code></pre></div>
</div>
<p>
Once you have all the files ready</p>
<ul>
<li>Open neovim</li>
<li>type :PlugInstall</li>
<li>type :COQdeps</li>
</ul>
<p>Now, you should be ready for go development in neovim.</p>
<p>
Couple of shortcuts to get you started:</p>
<ul>
<li>&lt;Ctrl&gt; + n : Opens file browser</li>
<li>&lt;Space&gt; + ff : Search for a file</li>
</ul>
</div>
</div>

		</section>

		<div class="post-tags">
			
			
			
		</div>
	</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/udayblog" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a><a class="soc" href="" title="Twitter"><i data-feather="twitter"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2022  © Uday |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>
<script>
  feather.replace()
</script></div>
    </body>
</html>
